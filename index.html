<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BNZ4TFFE70"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-BNZ4TFFE70');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeremy's Website</title>
    <link rel="icon" href="/favicon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/tokens.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/animation.css">
    <style>
        /* Page-specific styles */
        body {
            background: var(--bg);
            color: var(--text);
            overflow-x: hidden;
        }

        /* Hero Section */
        .new-hero {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
            pointer-events: none;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 800px;
            padding: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.22, 0.8, 0.31, 1);
        }
        
        .hero-content.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hero-content.immediate {
            opacity: 1 !important;
            transform: translateY(0) !important;
            transition: none !important;
        }
        
        .hero-headline {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: var(--font-bold);
            color: var(--text);
            margin-bottom: 2rem;
            line-height: 1.2;
        }
        
        .hero-typing {
            font-size: clamp(1.2rem, 3vw, 2rem);
            font-weight: var(--font-medium);
            color: var(--text-secondary);
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 3rem;
            white-space: nowrap;
            overflow: hidden;
        }
        
        .hero-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.22, 0.8, 0.31, 1) 0.3s;
        }
        
        .hero-actions.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hero-actions.immediate {
            opacity: 1 !important;
            transform: translateY(0) !important;
            transition: none !important;
        }
        
        /* Enter Prompt Text */
        .enter-prompt {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            color: var(--text-tertiary);
            font-size: var(--text-base);
            font-weight: var(--font-medium);
            text-align: center;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }
        
        .enter-prompt.visible {
            opacity: 0.9;
        }
        
        /* Intro Screen Overlay */
        .intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            opacity: 1;
            transition: opacity 0.8s ease-out;
        }
        
        .intro-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .intro-typing {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: var(--font-medium);
            color: var(--text);
            font-family: var(--font-sans);
            min-height: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            overflow: hidden;
            background: transparent;
            border: 1px solid transparent;
            border-radius: var(--radius-lg);
            padding: 1.5rem 2.5rem;
            transition: all 0.3s ease-in-out;
        }
        
        .intro-typing.typing {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            transition: none;
        }
        
        .intro-enter-prompt {
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            font-weight: var(--font-medium);
            color: var(--text-tertiary);
            text-align: center;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .intro-enter-prompt.hidden {
            opacity: 0;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* Main Content */
        .main-content {
            width: 100%;
            max-width: 800px;
            padding: var(--space-lg);
            margin: 0 auto;
            opacity: 0;
            transition: opacity 0.6s ease-in;
            position: relative;
            z-index: 2;
        }
        
        .main-content.fade-in {
            opacity: 1;
        }
        
        .main-content.immediate {
            opacity: 1 !important;
            transition: none !important;
        }

        .content-container {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: var(--space-4xl);
            width: 100%;
            margin-bottom: var(--space-3xl);
            position: relative;
            border: 1px solid var(--border);
            z-index: 3;
        }

        .content-section {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .content-section.active {
            display: block;
            opacity: 1;
        }

        .tab-content {
            margin-top: 1rem;
        }

        .content-container h2 {
            color: var(--brand);
            font-size: var(--text-2xl);
            font-weight: var(--font-semibold);
            margin-bottom: var(--space-lg);
        }

        .about-container {
            display: flex;
            align-items: flex-start;
            gap: var(--space-xl);
        }

        .about-container img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--border);
            transition: transform var(--dur-base) var(--ease);
        }
        
        .about-container img:hover {
            transform: scale(1.05);
        }

        .professional-label {
            font-family: var(--font-serif);
            color: var(--text);
            text-align: left;
            line-height: var(--leading-snug);
            padding: var(--space-sm);
            max-width: 500px;
        }

        .professional-label .name {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            margin-bottom: var(--space-xs);
            color: var(--text);
        }

        .professional-label .title {
            font-size: var(--text-base);
            font-style: italic;
            color: var(--text-secondary);
        }

        .professional-label .institution {
            font-size: var(--text-base);
            color: var(--text-secondary);
        }

        .letter-content {
            font-family: var(--font-serif);
            font-size: var(--text-lg);
            line-height: var(--leading-relaxed);
            color: var(--text-secondary);
            max-width: 100%;
            position: relative;
            padding: var(--space-lg);
        }

        .letter-content p {
            margin: var(--space-md) 0;
            text-align: left;
        }

        .letter-content .salutation {
            margin-bottom: var(--space-lg);
            font-style: italic;
            color: var(--text);
        }

        .letter-content .closing {
            margin-top: var(--space-lg);
            font-style: italic;
            color: var(--text);
        }

        .letter-content .signature {
            font-family: 'Dancing Script', cursive;
            font-size: var(--text-xl);
            color: var(--brand);
            margin-top: var(--space-sm);
        }

        .content-container ul {
            list-style: none;
            padding-left: 0;
        }

        .content-container ul li {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #333;
            position: relative;
            padding-left: 1.5rem;
        }

        .content-container ul li:before {
            content: '•';
            color: #4CAF50;
            position: absolute;
            left: 0;
        }

        .toggle-buttons {
            display: flex;
            gap: var(--space-lg);
            justify-content: center;
            margin-top: var(--space-xl);
            flex-wrap: wrap;
        }

        .toggle-buttons .group-tabs {
            display: flex;
            gap: var(--space-lg);
            background: none;
        }


        .toggle-buttons button {
            padding: var(--space-md) var(--space-lg);
            font-size: var(--text-base);
            font-weight: var(--font-medium);
            background-color: var(--brand);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--dur-base) var(--ease);
            width: 100px;
            text-align: center;
        }

        .toggle-buttons button:hover {
            background-color: var(--brand-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .toggle-buttons button:focus-visible {
            outline: 2px solid var(--brand);
            outline-offset: 2px;
        }

        /* Footer */
        footer {
            width: 100%;
            text-align: center;
            background: var(--surface);
            color: var(--text);
            padding: var(--space-2xl) 0;
            margin-top: auto;
            border-top: 1px solid var(--border);
            position: relative;
            z-index: 3;
        }

        footer p, footer div {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        footer a {
            color: var(--brand);
            text-decoration: none;
            transition: color var(--dur-base) var(--ease);
        }

        footer a:hover {
            color: var(--brand-light);
        }

        .footer-icon {
            height: 1.3rem;
            width: auto;
            vertical-align: middle;
            position: relative;
            top: 2px;
            filter: grayscale(100%) brightness(200%);
            transition: filter var(--dur-base) var(--ease);
        }
        
        .footer-icon:hover {
            filter: none;
        }



        /* Animations */
        /* Custom animations for this page */
        @keyframes heroEnter {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hidden {
            display: none !important;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-content {
                padding: var(--space-lg);
            }
            
            .hero-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .about-container {
                flex-direction: column;
                text-align: center;
            }

            .about-container img {
                margin-bottom: var(--space-lg);
            }

            .professional-label {
                text-align: center;
                max-width: 100%;
                margin: var(--space-sm) auto;
            }

            .toggle-buttons {
                flex-direction: column;
            }

            .toggle-buttons .group-tabs {
                flex-direction: column;
            }

            .toggle-buttons button {
                width: 100%;
            }
            
            .main-content {
                padding: var(--space-md);
            }
        }
        
        .headshot-info {
            display: flex;
            align-items: center;
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
        }


        /* Import additional fonts */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');
    </style>
</head>
<body>
    
    <!-- Hero Section with Canvas -->
    <section class="new-hero" id="hero">
        <canvas class="hero-canvas" id="heroCanvas"></canvas>
        <div class="hero-content" id="heroContent">
            <h1 class="hero-headline">Jeremy Barry</h1>
            <div class="hero-typing" id="heroTyping"></div>
            <div class="hero-actions" id="heroActions">
                <a href="#about" class="btn btn--primary">About Me</a>
                <a href="Jeremy_Barry_Projects.html" class="btn btn--secondary">Projects</a>
                <a href="Jeremy_Barry_Resume.pdf" class="btn btn--subtle" target="_blank">Resume</a>
            </div>
        </div>
        
        <!-- Enter Prompt Text -->
        <div class="enter-prompt" id="enterPrompt">Press Enter to continue</div>
    </section>
    
    <!-- Intro Screen -->
    <div class="intro-overlay" id="introOverlay">
        <div class="intro-typing" id="introTyping"></div>
        <div class="intro-enter-prompt" id="introEnterPrompt">Press Enter to Continue</div>
    </div>
    
    <!-- Main Website Content -->
    <div class="main-content" id="mainContent">
        <div class="content-container" id="about">
            <div class="content-section about-container active" id="content-section">
                <div class="headshot-info">
                <img src="IMG_8497.JPEG" alt="Jeremy's professional headshot">
                <div class="professional-label">
                    <div class="name">Jeremy Barry</div>
                    <div class="title">Data Science, Mathematics & Finance Student</div>
                    <div class="institution">College of William & Mary</div>
                    </div>
                </div>
                <div class="tab-content letter-content">
                    <p class="salutation">Hello!</p>
                    <p>I'm Jeremy Barry, from Newburyport, Massachusetts. I'm currently a sophomore at William & Mary, studying Data Science and Mathematics, with a Finance minor on the side.</p>
                    <p>I absolutely love data. From exploring patterns to breaking down complex problems, I genuinely enjoy the process of making sense of complex information and turning it into meaningful stories.</p>
                    <p>This summer, I'm splitting my time between two worlds, I'll be shucking oysters back home for some time and then i'll be going to the San Francisco Bay Area to work on a startup.</p>
                    <p class="closing">If anything I said resonates with you, I'd love to connect. Drop me a line, and let's start a conversation!</p>
                    <p class="closing">Best regards,</p>
                    <p class="signature">Jeremy Barry</p>
                </div>
            </div>

            <div class="toggle-buttons">
                <div class="group-tabs">
                    <button onclick="switchContent('about')">About Me</button>
                    <button onclick="switchContent('skills')">Skills</button>
                    <button onclick="window.location.href='Jeremy_Barry_Resume.pdf'">Resume</button>
                    <button onclick="window.location.href='Jeremy_Barry_Projects.html'">Projects</button>
                </div>
            </div>
        </div>

         <footer class="clean-footer">
    <div class="footer-contact">
        <strong>Contact Me:</strong>
        <a href="mailto:jebarry@wm.edu">jebarry@wm.edu</a> |
        <a href="tel:9784172728">978-417-2728</a>
    </div>
    <div class="footer-social">
        <a href="https://www.instagram.com/jeremy_barry_" target="_blank" aria-label="Instagram">
            <img src="instagram.jpg" alt="Instagram" class="footer-icon">
        </a>
        <a href="https://www.linkedin.com/in/jeremy-barry1/" target="_blank" aria-label="LinkedIn">
            <img src="linkedin.jpg" alt="LinkedIn" class="footer-icon">
        </a>
    </div>
</footer>

    </div>

    <!-- Scripts -->
    <script src="lib/particles/canvasField.js"></script>
    <script src="lib/typing.js"></script>
    <script>
        // Global state
        let particleField = null;
        let typingAnimation = null;
        let isReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        let introComplete = false;
        
        // Initialize particle field
        function initParticleField() {
            if (isReduced) return;
            
            const canvas = document.getElementById('heroCanvas');
            if (!canvas || particleField) return;
            
            particleField = new CanvasParticleField(canvas, {
                colors: ['#7AA2FF', '#E6E8EC']
            });
            
            // Listen for Enter prompt
            canvas.addEventListener('particles:show-enter-prompt', () => {
                showEnterPrompt();
            });
            
            // Listen for Enter key press
            canvas.addEventListener('particles:enter-pressed', () => {
                hideEnterPrompt();
                setTimeout(() => {
                    startIntroTyping();
                }, 1000); // 1s delay after Enter
            });
        }
        
        // Show Enter prompt
        function showEnterPrompt() {
            const enterPrompt = document.getElementById('enterPrompt');
            if (enterPrompt) {
                enterPrompt.classList.add('visible');
            }
        }
        
        // Hide Enter prompt
        function hideEnterPrompt() {
            const enterPrompt = document.getElementById('enterPrompt');
            if (enterPrompt) {
                enterPrompt.classList.remove('visible');
            }
        }
        
        // Start intro typing sequence
        function startIntroTyping() {
            const introTyping = document.getElementById('introTyping');
            const introEnterPrompt = document.getElementById('introEnterPrompt');
            
            // Hide the enter prompt when typing starts and show text box
            if (introEnterPrompt) {
                introEnterPrompt.classList.add('hidden');
            }
            
            
            if (isReduced) {
                // Skip to end for reduced motion
                completeIntro();
                return;
            }
            
            // Phase 1: Type "Hello, I'm Jeremy..."
            let currentText = "";
            const phase1Text = "Hello, I'm Jeremy...";
            let charIndex = 0;
            
            const typePhase1 = () => {
                if (charIndex < phase1Text.length) {
                    // Show text box instantly when first character is about to be typed
                    if (charIndex === 0) {
                        introTyping.classList.add('typing');
                    }
                    currentText += phase1Text[charIndex];
                    introTyping.textContent = currentText + '|';
                    charIndex++;
                    setTimeout(typePhase1, 40 + Math.random() * 20); // 40-60ms per char
                } else {
                    // Remove cursor and start backspace after brief pause
                    introTyping.textContent = currentText;
                    setTimeout(startBackspace, 800);
                }
            };
            
            const startBackspace = () => {
                const backspace = () => {
                    if (currentText.length > 0) {
                        currentText = currentText.slice(0, -1);
                        introTyping.textContent = currentText + '|';
                        setTimeout(backspace, 25); // Faster backspace
                    } else {
                        // Start phase 2
                        setTimeout(typePhase2, 200);
                    }
                };
                backspace();
            };
            
            const typePhase2 = () => {
                const phase2Text = "Welcome to my Website:)";
                charIndex = 0;
                
                const typeChar = () => {
                    if (charIndex < phase2Text.length) {
                        currentText += phase2Text[charIndex];
                        introTyping.textContent = currentText + '|';
                        charIndex++;
                        setTimeout(typeChar, 40 + Math.random() * 20);
                    } else {
                        // Remove cursor and complete intro
                        introTyping.textContent = currentText;
                        setTimeout(completeIntro, 800);
                    }
                };
                typeChar();
            };
            
            typePhase1();
        }
        
        // Complete intro and show main site
        function completeIntro(skipAnimations = false) {
            introComplete = true;
            const introOverlay = document.getElementById('introOverlay');
            const heroTyping = document.getElementById('heroTyping');
            
            introOverlay.classList.add('hidden');
            
            // Set final text in hero
            heroTyping.textContent = "A.I & Data Enthusiast ";
            
            // Ensure particles continue running in background
            if (particleField && particleField.state !== 'complete') {
                particleField.state = 'complete';
                // Reset particle opacity to keep them visible but subtle
                particleField.particles.forEach(particle => {
                    particle.opacity = particleField.config.opacity.final;
                    particle.isOrganizing = false;
                    particle.targetX = null;
                    particle.targetY = null;
                });
            }
            
            // Show main content immediately if skipping animations
            if (skipAnimations) {
                // Force scroll to top multiple times to ensure it works
                window.scrollTo(0, 0);
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
                showMainContent(true);
                // Scroll to top again after showing content
                setTimeout(() => {
                    window.scrollTo(0, 0);
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                }, 0);
            } else {
                // Show main content with delay
                setTimeout(() => {
                    showMainContent();
                }, 800);
            }
        }
        
        // Show main content
        function showMainContent(immediate = false) {
            const heroContent = document.getElementById('heroContent');
            const heroActions = document.getElementById('heroActions');
            const mainContent = document.getElementById('mainContent');
            
            if (immediate) {
                // Show everything immediately without transitions
                heroContent.classList.add('immediate', 'visible');
                heroActions.classList.add('immediate', 'visible');
                mainContent.classList.add('immediate', 'fade-in');
            } else {
                // Show hero content
                heroContent.classList.add('visible');
                
                setTimeout(() => {
                    heroActions.classList.add('visible');
                }, 300);
                
                // Show main content after delay
                setTimeout(() => {
                    mainContent.classList.add('fade-in');
                }, 800);
            }
        }
        
        // Content switching functionality (preserved)
        function switchContent(type) {
            const section = document.getElementById('content-section');
            const tabContent = section.querySelector('.tab-content');

            if (type === 'about') {
                tabContent.innerHTML = `
                    <div class="letter-content">
                        <p class="salutation">Hello!</p>
                        <p>I'm Jeremy Barry, from Newburyport, Massachusetts. I'm currently a sophomore at William & Mary, studying Data Science and Mathematics, with a Finance minor on the side.</p>
                        <p>I absolutely love data. From exploring patterns to breaking down complex problems, I genuinely enjoy the process of making sense of complex information and turning it into meaningful stories.</p>
                        <p>This summer, I'm splitting my time between two worlds, I'll be shucking oysters back home for some time and then i'll be going to the San Francisco Bay Area to work on a startup.</p>
                        <p class="closing">If anything I said resonates with you, I'd love to connect. Drop me a line, and let's start a conversation!</p>
                        <p class="closing">Best regards,</p>
                        <p class="signature">Jeremy Barry</p>
                    </div>
                `;
            } else if (type === 'skills') {
                tabContent.innerHTML = `
                    <div class="letter-content">
                        <p class="salutation">My Skills</p>
                        <p><strong>Data Analysis:</strong> Excel, R, Python (Pandas, NumPy), Amazon Web Services</p>
                        <p><strong>Data Visualization:</strong> Matplotlib, Seaborn, Power BI, Amazon Web Services</p>
                        <p><strong>Programming:</strong> Python, SQL, HTML</p>
                        <p><strong>Soft Skills:</strong> Leadership, Communication, Creativity, Adaptability</p>
                        <p><strong>Random:</strong> Eating Pizza, Attempting 5Ks</p>
                    </div>
                `;
            }
        }
        
        // Smooth scrolling for anchor links
        function initSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }
        
        // Global keyboard handler
        function handleGlobalKeyPress(e) {
            if (e.key === 'Enter' && !introComplete) {
                const introEnterPrompt = document.getElementById('introEnterPrompt');
                const enterPrompt = document.getElementById('enterPrompt');
                
                // Check if we're in the initial intro screen
                if (introEnterPrompt && !introEnterPrompt.classList.contains('hidden')) {
                    startIntroTyping();
                }
                // Check if we're in the particle enter prompt phase
                else if (enterPrompt && enterPrompt.classList.contains('visible')) {
                    hideEnterPrompt();
                    setTimeout(() => {
                        startIntroTyping();
                    }, 1000);
                }
            }
        }
        
        // Initialize everything
        function init() {
            initSmoothScroll();
            
            // Add global keyboard listener
            document.addEventListener('keydown', handleGlobalKeyPress);
            
            // Always initialize particle field immediately
            initParticleField();
            
            // Check if coming directly to #about
            const isDirectToAbout = window.location.hash === '#about';
            
            if (isDirectToAbout) {
                // Immediately scroll to top before anything else
                window.scrollTo(0, 0);
                // Skip intro entirely and animations
                completeIntro(true);
            }
        }
        
        // Start when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
        
        // Handle page visibility for performance
        document.addEventListener('visibilitychange', () => {
            if (particleField) {
                if (document.hidden) {
                    particleField.stop();
                } else {
                    particleField.animate();
                }
            }
        });
    </script>
    
    <!-- Screen reader announcements -->
    <div id="announcements" class="sr-only" aria-live="polite" aria-atomic="true"></div>
</body>
</html>
